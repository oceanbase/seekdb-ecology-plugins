---
slug: /experience-vector-search-with-sql
---

# Experience vector search with SQL

seekdb can be used from an SDK or over SQL. This topic walks you through trying vector search via SQL.

:::info
To use seekdb from an SDK instead, see [Experience embedded seekdb with the Python SDK](../50.use-seekdb-with-sdk/25.using-seekdb-in-python-sdk.md).
:::

In this example you will:

1. Deploy seekdb in client/server mode.
2. Connect to seekdb.
3. Create a database.
4. Create a table and insert data.
5. Run a vector search.
6. Clean up.

## Deployment options

seekdb supports several deployment options, from quick prototyping to large-scale production.

* **Embedded mode**: seekdb runs as a lightweight library inside your application. Install with pip. Suited for learning, prototyping, and running on resource-constrained devices.

* **Client/server mode**: Recommended for testing and production. Easy to set up and run as a standalone service.

:::info
For a full overview of deployment options, see [Deployment overview](../../400.guides/400.deploy/50.deploy-overview.md).
:::

## Step 1: Deploy seekdb in client/server mode

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

<Tabs>
  <TabItem value="CentOS/RHEL" label="CentOS/RHEL" default>

    ### Prerequisites

    * Your system is RPM-based. Supported distributions include:
      * Anolis OS 8.x (Linux kernel 4.19 or later)
      * Anolis OS 23.x (Linux kernel 6.6 or later)
      * CentOS Linux 7.x and 9.x (Linux kernel 4.19 or later)
      * openEuler 22.03 and 24.03 (Linux kernel 5.10.0 or later)
    * At least 1 CPU core and 2 GB of available memory.
    * MySQL client installed.
    * Your user can run `sudo`.
    * The `jq` CLI is installed and systemd is configured as the service manager.

    ### Deploy seekdb

    1. Install seekdb.

       ```shell
       curl -fsSL https://obbusiness-private.oss-cn-shanghai.aliyuncs.com/download-center/opensource/seekdb/seekdb_install.sh | sudo bash
       ```

    2. Start seekdb.

       ```shell
       sudo systemctl start seekdb
       ```

    3. Check status.

       ```shell
       sudo systemctl status seekdb
       ```

       When the status shows `Service is ready`, seekdb is running.

  </TabItem>
  <TabItem value="Debian/Ubuntu" label="Debian/Ubuntu">

    ### Prerequisites

    * Your system is DEB-based. Supported distributions include:
      * Debian 11, 12, and 13 (Linux kernel 4.19 or later)
      * Ubuntu 20.04, 22.04, and 24.04 (Linux kernel 4.19 or later)
    * At least 1 CPU core and 2 GB of available memory.
    * MySQL client installed.
    * Your user can run `sudo`.
    * The `jq` CLI is installed and systemd is configured as the service manager.

    ### Deploy seekdb

    1. Add the seekdb repository.

       ```shell
       echo "deb [trusted=yes] http:/mirrors.aliyun.com/oceanbase/community/stable/$(lsb_release -is | awk '{print tolower($0)}')/$(lsb_release -cs)/$(dpkg --print-architecture)/ ./" | tee /etc/apt/sources.list.d/oceanbase.list
       ```

    2. Install seekdb.

       ```shell
       sudo apt update
       sudo apt install seekdb
       ```

    3. Start seekdb.

       ```shell
       sudo systemctl start seekdb
       ```

    4. Check status.

       ```shell
       sudo systemctl status seekdb
       ```

       When the status shows `Service is ready`, seekdb is running.

  </TabItem>
  <TabItem value="macOS" label="macOS">

    ### Prerequisites

    * macOS 15 or later.
    * At least 1 CPU core and 2 GB of available memory.
    * MySQL client installed.

    ### Deploy seekdb

    1. Add the seekdb tap.

       ```shell
       brew tap oceanbase/seekdb
       ```

    2. Install seekdb.

       ```shell
       brew install seekdb
       ```

    3. Start seekdb.

       ```shell
       seekdb-start
       ```

  </TabItem>
  <TabItem value="Docker" label="Docker">

    ### Prerequisites

    * At least 1 CPU core and 2 GB of memory.
    * Docker installed and the Docker service running.

    ### Deploy seekdb in Docker

    If Docker is installed and running, you can start seekdb with:

    ```shell
    sudo docker run -d -p 2881:2881 oceanbase/seekdb
    ```

    :::info
    If pulling from Docker Hub fails, try `quay.io/oceanbase/seekdb` or `ghcr.io/oceanbase/seekdb` instead. For example: `sudo docker run -d -p 2881:2881 quay.io/oceanbase/seekdb`
    :::

    For more details, see [Deploy seekdb with Docker](../../400.guides/400.deploy/700.server-mode/200.deploy-by-docker.md).

  </TabItem>
</Tabs>

## Step 2: Connect to seekdb

Connect with the MySQL client:

```shell
mysql -h127.0.0.1 -uroot -P2881 -p****** -A
```

## Step 3: Create a database

Create a database named `my_test`. You can also use the default database `test` if you prefer.

1. Create the database.

   ```sql
   CREATE DATABASE my_test;
   ```

2. Use it.

   ```sql
   USE my_test;
   ```

## Step 4: Create a table and insert data

1. Create a table with a vector column and index.

   Use the `VECTOR(dim)` type for vector columns and create an index on that column. The vector index must include at least `type` and `distance`.

   Example: table with vector column `embedding` of dimension 3 and an HNSW index with L2 distance

   ```sql
   CREATE TABLE t1(
       id INT PRIMARY KEY,
       doc VARCHAR(200),
       embedding VECTOR(3),
       VECTOR INDEX idx1(embedding) WITH (distance=L2, type=hnsw)
   );
   ```

2. Insert data.

   ```sql
   INSERT INTO t1
   VALUES (1, 'apple', '[1.2,0.7,1.1]'),
           (2, 'banana', '[0.6,1.2,0.8]'),
           (3, 'orange', '[1.1,1.1,0.9]'),
           (4, 'carrot', '[5.3,4.8,5.4]'),
           (5, 'spinach', '[4.9,5.3,4.8]'),
           (6, 'tomato', '[5.2,4.9,5.1]');
   ```

## Step 5: Run a vector search

Vector search takes a query vector. To find the three closest rows to the vector for "fruit" `[0.9, 1.0, 0.9]`:

```sql
SELECT id, doc FROM t1
ORDER BY l2_distance(embedding, '[0.9, 1.0, 0.9]')
APPROXIMATE LIMIT 3;
```

Example result:

```
+----+--------+
| id | doc    |
+----+--------+
|  3 | orange |
|  2 | banana |
|  1 | apple  |
+----+--------+
3 rows in set
```

## Step 6: Clean up

To remove the example database and table:

1. Drop the table.

   ```sql
   DROP TABLE t1;
   ```

2. Drop the database.

   ```sql
   DROP DATABASE my_test;
   ```

## What's next

Explore more seekdb features and build AI applications:

* [Experience hybrid search with SQL](10.deploy-seekdb-testing-environment.md)
* [Experience vector search](../../500.tutorials/200.scenarios/30.experience-vector-search.md)
* [Experience full-text indexing](../../500.tutorials/200.scenarios/40.experience-full-text-indexing.md)
* [Experience hybrid search](../../500.tutorials/200.scenarios/50.experience-hybrid-search.md)
* [Experience AI functions](../../500.tutorials/200.scenarios/60.experience-ai-function.md)
* [Experience semantic indexing](../../500.tutorials/200.scenarios/70.experience-hybrid-vector-index.md)
* [Build a knowledge base desktop application based on seekdb](../../500.tutorials/100.create-ai-app-demo/100.build-kb-in-seekdb.md)
* [Build a cultural tourism assistant with seekdb multi-model integration](../../500.tutorials/100.create-ai-app-demo/300.build-multi-model-application-based-on-oceanbase.md)
* [Build an image search application based on seekdb](../../500.tutorials/100.create-ai-app-demo/400.build-image-search-app-in-seekdb.md)
